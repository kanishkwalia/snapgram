<% if @posts.any? %>
  <% @posts.each do |post| %>
    <%= link_to post.caption, post_path(post) %>
    <%= link_to "Edit #{post.caption}", edit_post_path(post) %>
    <%= link_to "Delete #{post.caption}", post_path(post), method: :delete %>
    <%= link_to "Comment", new_post_comment_path(post) %>
    
    <% if post.comments.any? %>
      <ul>
        <% post.comments.each do |comment| %>
          <li>
            <%= comment.views %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No comments.</p>

    <% end %>
  <% end %>
<% else %>
  <h1>No posts yet</h1>
<% end %>

<%= link_to "Add a post", new_post_path %>